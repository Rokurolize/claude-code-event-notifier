# CLAUDE.md - Discord Event Notifier

ã‚·ãƒ³ãƒ—ãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆ555è¡Œï¼‰ã®Discordé€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã‚¬ã‚¤ãƒ‰ã€‚

## ğŸ“š ä¸»è¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- **@docs/simple-architecture-complete-guide.md** - æŠ€è¡“ä»•æ§˜
- **@docs/troubleshooting.md** - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
- **@~/.claude/discord-event-notifier-personal-config.md** - å€‹äººè¨­å®š

## âš¡ ã‚¨ãƒ©ãƒ¼æ–‡æ›¸åŒ–ã®é‰„å‰‡

**ã‚¨ãƒ©ãƒ¼è§£æ±ºå¾Œã¯å³åº§ã«CLAUDE.mdã«è¨˜éŒ²ã™ã‚‹ã€‚ã“ã‚Œã‚’æ€ ã‚‹ = åŒã˜ã‚¨ãƒ©ãƒ¼ã®ç„¡é™ãƒ«ãƒ¼ãƒ—ã€‚**

### ğŸ“ é‡è¦ãªæ•™è¨“

- **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åè¡çª**: `src/types.py`â†’`src/simple/event_types.py` (æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå›é¿)
- **Hookç’°å¢ƒéš”é›¢**: `uv run --python 3.13 --no-project` (ä¾å­˜é–¢ä¿‚å¹²æ¸‰é˜²æ­¢)
- **ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—**: `date +"%Y-%m-%d-%H-%M-%S"` (æ‰‹å‹•å…¥åŠ›ç¦æ­¢)
- **Discordé€šçŸ¥æœ€é©åŒ–**: ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸éƒ¨åˆ†ã§Discordãƒã‚¤ãƒ†ã‚£ãƒ–markdown(**å¤ªå­—**ã€*æ–œä½“*)ä½¿ç”¨ã€embedéƒ¨åˆ†ã§ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ç¶­æŒ

---

## âš ï¸ Pythonå®Ÿè¡Œè¦å‰‡

**å¿…é ˆ**: `cd project_root && uv run --python 3.13 python script.py`  
**Hookæ™‚**: `uv run --python 3.13 --no-project python /path/to/script.py`  
**ç¦æ­¢**: `python3` ã®ç›´æ¥ä½¿ç”¨

### è¨­è¨ˆåŸå‰‡
- **Pure Python 3.13+**: æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã¿ã€typing_extensionsç¦æ­¢
- **Fail Silent**: Claude Codeã‚’ãƒ–ãƒ­ãƒƒã‚¯ã—ãªã„
- **Type Safety**: TypedDictã€TypeIsä½¿ç”¨

---

## ğŸš¨ ç¾åœ¨ã®å®Ÿè£…çŠ¶æ³

### ã‚·ãƒ³ãƒ—ãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆ555è¡Œã€5ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
```
src/simple/
â”œâ”€â”€ event_types.py    # å‹å®šç¾©ï¼ˆ94è¡Œï¼‰
â”œâ”€â”€ config.py         # è¨­å®šèª­ã¿è¾¼ã¿ï¼ˆ117è¡Œï¼‰
â”œâ”€â”€ discord_client.py # Discordé€ä¿¡ï¼ˆ71è¡Œï¼‰
â”œâ”€â”€ handlers.py       # ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ï¼ˆ190è¡Œï¼‰
â””â”€â”€ main.py          # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆï¼ˆ83è¡Œï¼‰
```

**ç‰¹å¾´**: Pure Python 3.13+ã€Zero Dependenciesã€93%ã‚³ãƒ¼ãƒ‰å‰Šæ¸›ï¼ˆ8000â†’555è¡Œï¼‰

---

## ğŸ”§ å¿…é ˆã‚³ãƒãƒ³ãƒ‰

```bash
# ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
cd /home/ubuntu/workbench/projects/claude-code-event-notifier && uv run --python 3.13 python configure_hooks_simple.py

# æ¤œè¨¼
cd /home/ubuntu/workbench/projects/claude-code-event-notifier && uv run --python 3.13 python configure_hooks.py --validate-end-to-end

# ãƒ­ã‚°ç¢ºèª
tail -f ~/.claude/hooks/logs/simple_notifier_*.log
```

---

## ğŸ“ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

- **@/home/ubuntu/.claude/.env** - Discordé€šçŸ¥è¨­å®š
- **@/home/ubuntu/.claude/settings.json** - Hookè¨­å®š

---

## ğŸ› ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½
`DISCORD_DEBUG=1` ã§ç”Ÿãƒ‡ãƒ¼ã‚¿ä¿å­˜ â†’ `~/.claude/hooks/debug/`
è©³ç´°: @README.md#debugging ã¾ãŸã¯ @docs/troubleshooting.md

---

## âš ï¸ ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹æ™‚ãƒã‚§ãƒƒã‚¯

```bash
# ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç¢ºèª  
ls src/simple/*.py

# Python 3.13+ç¢ºèª
cd /home/ubuntu/workbench/projects/claude-code-event-notifier && uv run --python 3.13 python -c "from typing import ReadOnly, TypeIs; print('OK')"
```

---

## ğŸ” Discord APIé–‹ç™ºãƒ„ãƒ¼ãƒ«

**çµ±åˆã•ã‚ŒãŸDiscord APIãƒ„ãƒ¼ãƒ«ã‚»ãƒƒãƒˆ**: `tools/discord_api/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ•´ç†

### åˆ©ç”¨å¯èƒ½ãªãƒ„ãƒ¼ãƒ«

1. **discord_api_basic_checker.py** - åŸºæœ¬ã‚¢ã‚¯ã‚»ã‚¹ãƒ»æ¨©é™ãƒã‚§ãƒƒã‚«ãƒ¼
   - Botèªè¨¼ã¨ãƒãƒ£ãƒ³ãƒãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã®æ¤œè¨¼
   - ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚¹ãƒ¬ãƒƒãƒ‰ã¨ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³åˆ†æ
   - æ¥ç¶šå•é¡Œã®è¿…é€Ÿãªè¨ºæ–­

2. **discord_api_advanced_validator.py** - é«˜åº¦ãªæ¤œè¨¼ãƒ»çµ±è¨ˆåˆ†æ
   - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å–å¾—ã®åå¾©æ¤œè¨¼ï¼ˆä¿¡é ¼æ€§ãƒ†ã‚¹ãƒˆï¼‰
   - Discord/Simple Notifierãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ¤œå‡º
   - ãƒãƒ£ãƒ³ãƒãƒ«å¥å…¨æ€§ã®çµ±è¨ˆåˆ†æ

3. **discord_api_message_fetcher.py** - ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å–å¾—ãƒ»æ§‹é€ åˆ†æ
   - Discord URLã‹ã‚‰ç›´æ¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å–å¾—
   - embedã€æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã€ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®è©³ç´°åˆ†æ
   - Discord/Simple Notifieræ¤œå‡ºæ©Ÿèƒ½

4. **discord_api_test_runner.py** - åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ
   - 7ã¤ã®è‡ªå‹•ãƒ†ã‚¹ãƒˆï¼ˆè¨­å®šã€èªè¨¼ã€æ¨©é™ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç­‰ï¼‰
   - --quickãƒ¢ãƒ¼ãƒ‰ã§å¿…é ˆãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ
   - æˆåŠŸç‡ã«åŸºã¥ãå¥å…¨æ€§è©•ä¾¡

### ğŸ¯ é‡è¦ï¼š--helpã‚³ãƒãƒ³ãƒ‰ã®æ´»ç”¨

**å„ãƒ„ãƒ¼ãƒ«ã®è©³ç´°ãªä½¿ã„æ–¹ã¯ `--help` ã§ç¢ºèªã™ã‚‹ã“ã¨ã‚’å¼·ãæ¨å¥¨**ï¼š

```bash
cd tools/discord_api

# å„ãƒ„ãƒ¼ãƒ«ã®ä½¿ã„æ–¹ã‚’ç¢ºèª
python discord_api_basic_checker.py --help
python discord_api_advanced_validator.py --help
python discord_api_message_fetcher.py --help
python discord_api_test_runner.py --help
```

**--helpã®ç‰¹å¾´**:
- å…·ä½“çš„ãªä½¿ç”¨ä¾‹ã‚’è¤‡æ•°æ²è¼‰
- å„ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®è©³ç´°èª¬æ˜
- æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›å†…å®¹
- è¨­å®šæ–¹æ³•ï¼ˆç’°å¢ƒå¤‰æ•°ãƒ»è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

```bash
# åŸºæœ¬çš„ãªæ¥ç¶šç¢ºèª
cd tools/discord_api && python discord_api_basic_checker.py

# ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸åˆ†æï¼ˆDiscord URLã‚’ä½¿ç”¨ï¼‰
cd tools/discord_api && python discord_api_message_fetcher.py --url "DISCORD_MESSAGE_URL"

# åŒ…æ‹¬çš„ãªå¥å…¨æ€§ãƒã‚§ãƒƒã‚¯
cd tools/discord_api && python discord_api_test_runner.py --quick
```

---

**çŠ¶æ³**: ã‚·ãƒ³ãƒ—ãƒ«ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆ555è¡Œï¼‰ç¨¼åƒä¸­  
**ã‚³ãƒ¼ãƒ‰å‰Šæ¸›**: 8,000è¡Œâ†’555è¡Œï¼ˆ93%å‰Šæ¸›ï¼‰  
**ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ**: `src/simple/main.py`

*"Simplicity is the ultimate sophistication."*
